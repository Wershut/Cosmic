<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #cajaProvincia, #colorProducto {
            visibility: hidden;
        }
    </style>

</head>

<body>
    <h1>Datos de envio</h1>

    <label for="producto">Producto</label>
    <select onchange="habilitarColor()" name="producto" id="producto">
        <option value="elija">Elija producto</option>
        <option value="movil">MÃ³vil</option>
        <option value="tablet">Tablet</option>
    </select>

    <br>

    <label for="colorProducto">Color del producto</label>
    <input type="color" id="colorProducto" name="colorProducto" disabled>

    <br>

    <label for="pais">Pais</label>
    <select onchange="mostrarProvincia()" name="pais" id="pais">
        <option value="elija">Elegir pais</option>
        <option value="es">Spain</option>
        <option value="noEs">Fuera de Spain</option>
    </select>

    <div id="cajaProvincia">
        <label for="provincia"></label>
        <select name="provincia" id="provincia">
            <option value="madrid">Madrid</option>
            <option value="bar">Barcelona</option>
            <option value="sev">Sevilla</option>
        </select>
    </div>

    <br>

    <button type="submit" onclick="validarColor()">Enviar</button>

    <script>
        function habilitarColor() {
            let producto = document.getElementById("producto");
            let colorProducto = document.getElementById("colorProducto");

            if (producto.value == "movil") {
                colorProducto.disabled = false;
                colorProducto.style.visibility = "visible";
            } else {
                colorProducto.disabled = true;
                colorProducto.style.visibility = "hidden";
            }
        }

        function mostrarProvincia() {
            let pais = document.getElementById("pais");
            let cajaProvincia = document.getElementById("cajaProvincia");

            if (pais.value == "es") {
                cajaProvincia.style.visibility = "visible";
            } else {
                cajaProvincia.style.visibility = "hidden";
            }
        }

        function validarColor() {
            let colorProducto = document.getElementById("colorProducto");
            let color = colorProducto.value;

            if (color !== "#ff0000" && color !== "#ffff00") {
                alert("El color debe ser rojo (#ff0000) o amarillo (#ffff00)");
                return false;
            }

            alert("Datos enviados correctamente");
        }
    </script>
</body>
</html>